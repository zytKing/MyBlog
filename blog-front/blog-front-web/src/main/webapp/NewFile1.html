<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<meta name="description" content="">
<meta name="author" content="">
<title>Home</title>
<!-- <link href="${pageContext.request.contextPath}/sourceFile/offcanvas.css"
    rel="stylesheet"> -->
<link href="../tool/boostrap/css/bootstrap.min.css" rel="stylesheet">
<script type="text/javascript" src="../static/js/jquery-2.1.1.min.js"></script>
<script type="text/javascript"
	src="../tool/boostrap/js/bootstrap.min.js"></script>
</head>
<style>
.level1 {
	margin-left: 0px;
}

.level2 {
	margin-left: 40px;
	border-left: 3px solid #339BD5;
	padding-left: 10px;
}

.level3 {
	margin-left: 80px;
	border-left: 3px solid #339BD5;
	padding-left: 10px;
}
</style>
<script>
    $(function() {
        //alert("${comments}");
 /*        var comments = {["id":"1001", "pid":"0", "content":"a", "userName":"acomment", "level":"1"],
        		[id=1002, pid=0, content='b', userName='bcomment', level=1],
        		[id=1005, pid=1002, content='e', userName='ecomment', level=2],
        		[id=1007, pid=1005, content='g', userName='gcomment', level=3],
        		[id=10012, pid=1007, content='l', userName='lcomment', level=1],
        		[id=1006, pid=1002, content='f', userName='fcomment', level=2],
        		[id=10013, pid=1006, content='m', userName='mcomment', level=1],			
        		[id=10010, pid=1003, content='j', userName='jcomment', level=1],
        		[id=1003, pid=0, content='c', userName='ccomment', level=1],
        		[id=1004, pid=0, content='d', userName='dcomment', level=1],
        		[id=1008, pid=0, content='h', userName='hcomment', level=1],
        		[id=1009, pid=0, content='i', userName='icomment', level=1],
        		[id=10014, pid=0, content='n', userName='ncomment', level=1]};  */
        
        
        var comments = [{"id" : 1,"pid":0,"content":"a","userName":"ac","level":1},
                        {"id" : 2,"pid":0,"content":"a","userName":"ac","level":1},
                        {"id" : 3,"pid":2,"content":"a","userName":"ac","level":2},
                        {"id" : 4,"pid":2,"content":"a","userName":"ac","level":2},
                        {"id" : 5,"pid":3,"content":"a","userName":"ac","level":3},
                        {"id" : 6,"pid":2,"content":"a","userName":"ac","level":1},
                        {"id" : 7,"pid":5,"content":"a","userName":"ac","level":1},
                        {"id" : 8,"pid":0,"content":"a","userName":"ac","level":1},
                        {"id" : 9,"pid":0,"content":"a","userName":"ac","level":1},
                        ];
        alert(comments);
        getComment(comments, 0);
        var reply="<div><a>回复</a></div>"
        $(".level1").append(reply);
        $(".level2").append(reply);
    })

　　//对json数组进行排序，并且按照排序结果动态添加dom节点
    function getComment(comments, pid) {
        $.each(comments, function(n, value) {
            if (value.pid == pid) {
                $(".media-list").append("<hr/><li class='media'><div class='level"+value.level+"'> <div class='media-body'> <p class='media-heading'>id和pid:"+value.id +"___"+ value.pid+"</p>内容是："+value.content+"</div></div></li>");
                
　　　　　　　　　　//递归
　　　　　　　　　　getComment(comments,value.id);
            }
        });
    }
</script>
<body>
	<div class="container">
		<footer>
			<p>© create by YaoQi</p>
			<ul class="media-list">
				<li class="media">
					<div class="media-left">
						<a href="#">
						</a>
					</div>
					<div class="media-body">
						<h4 class="media-heading"></h4>
					</div>
				</li>
			</ul>
		</footer>
	</div>
	<!--/.container-->
</body>
</html>